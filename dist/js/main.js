(()=>{"use strict";(()=>{const e=document.querySelector(".services-elements"),t=document.querySelector(".modal-overlay"),l=document.querySelector(".modal-callback"),o=document.querySelector(".modal-close"),n=document.querySelector(".header").querySelector(".callback-btn"),c=document.querySelector(".button-services");let r;const a=()=>{t.style.display="block",l.style.display="block",(({timing:e,draw:t,duration:l})=>{let o=performance.now();requestAnimationFrame((function n(c){let r=(c-o)/l;r>1&&(r=1);let a=e(r);t(a),r<1&&requestAnimationFrame(n)}))})({duration:1500,timing:r,draw:function(e){l.style.left=50*e+"%"}})},s=e=>function(t){return 1-e(1-t)},i=e=>{for(let t=0,l=1;;t+=l,l/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(l,2)};n.addEventListener("click",(e=>{r=s(i),e.target.classList.contains("fancyboxModal")?a():e.target.classList.contains("modal-close")})),e.addEventListener("click",(e=>{r=s(i),e.target.classList.contains("fancyboxModal")?a():e.target.classList.contains("modal-close")})),c.addEventListener("click",(e=>{r=s(i),e.target.classList.contains("fancyboxModal")?a():e.target.classList.contains("modal-close")})),t.addEventListener("click",(e=>{e.target.closest(".modal-callback")||(l.style.display="none",t.style.display="none")})),o.addEventListener("click",(e=>{l.style.display="none",t.style.display="none"}))})(),(()=>{const e=document.querySelector("form"),t=document.createElement("div"),l="Спасибо! Наш менеджер свяжется с вами!";e.addEventListener("submit",(o=>{o.preventDefault(),(()=>{const o=e.querySelectorAll(".form-group>input"),n=new FormData(e),c={};t.textContent="Загрузка...",e.append(t),n.forEach(((e,t)=>{""!=e&&(c[t]=e)})),(async e=>{if(e.fio.length>1&&e.tel.length>6){const t=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return await t.json()}l="Данные не подходят, для отправки"})(c).then((e=>{t.textContent=l,o.forEach((e=>{console.log(e),e.value=""}))})).catch((e=>{t.textContent="Ошибка"}))})()}))})(),document.querySelector(".modal-callback").addEventListener("input",(e=>{"tel"===e.target.getAttribute("name")&&(e.target.value=e.target.value.replace(/[^\d-+-]/,"").replace(/^\s*/g,"")),"fio"===e.target.getAttribute("name")&&(e.target.value=e.target.value.replace(/[^А-я ]/,"").replace(/^\s*/g,""))})),(()=>{const e=document.querySelectorAll('a[href^="#"]');for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const l=t.getAttribute("href");document.querySelector(l).scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.querySelector(".top-slider"),t=e.querySelectorAll(".item"),l=e.querySelectorAll(".table");let o=0;setInterval((()=>{let e=setTimeout((()=>{l[0].classList.toggle("active"),l[1].classList.toggle("active"),l[2].classList.toggle("active"),e=setTimeout((()=>{t[o].toggleAttribute("hidden"),o++,o>=2&&(o=0)}),1500)}),1e3)}),3e3)})(),(()=>{const e=document.querySelector(".up"),t=()=>{window.pageYOffset>0&&(window.scrollBy(0,-80),setTimeout(t,0))};window.addEventListener("scroll",(()=>{var t=window.pageYOffset,l=document.documentElement.clientHeight;t>l&&e.removeAttribute("hidden",""),t<l&&e.setAttribute("hidden","")})),e.addEventListener("click",t)})(),(()=>{const e=document.querySelector(".accordeon"),t=(e.querySelectorAll(".element-content"),e.querySelectorAll(".element"));e.addEventListener("click",(e=>{if(e.target.closest(".element")){const l=e.target.closest(".element").querySelector(".element-content");"block"===l.style.getPropertyValue("display")?l.style.display="none":(t.forEach((e=>{e.classList.contains("active")&&(e.classList.toggle("active"),e.querySelector(".element-content").style.display="none")})),l.style.display="block"),e.target.closest(".element").classList.toggle("active")}}))})(),(()=>{const e=document.querySelector(".services-carousel"),t=document.querySelector(".arrow-right"),l=document.querySelector(".arrow-left");t.addEventListener("click",(()=>{const t=e.querySelectorAll(".col-sm-6");t[5].toggleAttribute("hidden"),t[2].toggleAttribute("hidden"),t[5].remove(),t[0].before(t[5])})),l.addEventListener("click",(()=>{const t=e.querySelectorAll(".col-sm-6");t[0].toggleAttribute("hidden"),t[3].toggleAttribute("hidden"),t[0].remove(),t[5].after(t[0])}))})()})();